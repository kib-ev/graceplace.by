# API бронирования рабочих мест

## Создать бронирование

**POST** `/api/appointments`

Создаёт новую запись (бронирование рабочего места).

### Параметры (JSON):
- `user_id` (int, required) — ID пользователя
- `place_id` (int, required) — ID рабочего места
- `start_at` (string, required) — Дата и время начала (формат: `YYYY-MM-DD HH:MM:SS`)
- `duration` (int, required) — Длительность в минутах (от 30 до 1440)

### Пример запроса
```json
{
  "user_id": 1,
  "place_id": 2,
  "start_at": "2024-06-20 10:00:00",
  "duration": 60
}
```

### Пример ответа (успех)
```json
{
  "success": true,
  "appointment": {
    "id": 123,
    "user_id": 1,
    "place_id": 2,
    "start_at": "2024-06-20 10:00:00",
    "duration": 60,
    ...
  }
}
```

### Пример ответа (ошибка)
```json
{
  "success": false,
  "error": "Место уже занято на это время"
}
```

---

## Получить свободные интервалы на рабочем месте

**GET** `/api/places/{place_id}/free-slots?date=YYYY-MM-DD&duration=60`

Возвращает список свободных слотов для бронирования на выбранном месте за день.

### Параметры:
- `date` (string, optional, по умолчанию сегодня) — Дата в формате `YYYY-MM-DD`
- `duration` (int, optional, по умолчанию 60) — Длительность слота в минутах

### Пример запроса
```
GET /api/places/2/free-slots?date=2024-06-20&duration=60
```

### Пример ответа
```json
{
  "slots": [
    { "start": "08:00", "end": "09:00" },
    { "start": "09:15", "end": "10:15" },
    ...
  ]
}
```

---

## Получить список всех рабочих мест

**GET** `/api/places-list`

Возвращает список всех рабочих мест с их id, name и description.

### Пример ответа
```json
{
  "data": [
    { "place_id": 1, "name": "Кабинет 1", "description": "Описание 1" },
    { "place_id": 2, "name": "Кабинет 2", "description": "Описание 2" },
    ...
  ]
}
```

---

## Получить список всех мастеров

**GET** `/api/masters-list`

Возвращает список всех мастеров с их id, user_id и телефоном пользователя.

### Пример ответа
```json
{
  "data": [
    { "master_id": 1, "user_id": 5, "phone": "+375291234567" },
    { "master_id": 2, "user_id": 8, "phone": "+375291112233" },
    ...
  ]
}
```

---

## Примечания
- Все поля модели Appointment разрешены для редактирования, кроме `id`.
- Авторизация через токен будет добавлена позже (middleware уже реализован, но пока пропускает все запросы).
- В случае ошибки API всегда возвращает `success: false` и описание ошибки.
